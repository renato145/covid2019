(this.webpackJsonpcovid2019=this.webpackJsonpcovid2019||[]).push([[0],{29:function(e,t,n){},77:function(e,t,n){e.exports=n(88)},83:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(30),i=n.n(r),l=n(4),o=n(90),s=n(91),u=n(92),m=(n(82),n(83),n(3)),d=n(31),f=n.n(d),b=(n(29),function(e){var t=e.xScale,n=e.boundedHeight,r=e.boundedWidth,i=e.label,l=e.labelOffset,o=e.tickSize,s=e.tickOffset,u=Object(a.useMemo)((function(){return t.range()}),[t]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("path",{className:"line",d:["M",u[0],n,"H",u[1]].join(" "),fill:"none"}),t.ticks().map((function(e,a){return c.a.createElement("g",{className:"tick",key:a,transform:"translate(".concat(t(e),",0)")},c.a.createElement("line",{y1:n,y2:n+o}),c.a.createElement("text",{style:{textAnchor:"middle"},dy:".71em",y:n+s},f()(e).format("Do MMM")))})),i&&c.a.createElement("text",{className:"label",x:r/2,y:n+l,textAnchor:"middle"},i))}),h=function(e){var t=e.yScale,n=e.boundedHeight,r=(e.boundedWidth,e.label),i=e.labelOffset,l=e.tickSize,o=e.tickOffset,s=Object(a.useMemo)((function(){return t.range()}),[t]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("path",{className:"line",d:["M",0,s[1],"v",s[0]].join(" "),fill:"none"}),t.ticks().map((function(e,n){return c.a.createElement("g",{key:n,className:"tick",transform:"translate(0,".concat(t(e),")")},c.a.createElement("line",{x2:-l}),c.a.createElement("text",{key:e,style:{textAnchor:"end"},x:-o,dy:".32em"},e))})),r&&c.a.createElement("text",{className:"label",textAnchor:"middle",transform:"translate(".concat(-i,",").concat(n/2,") rotate(-90)")},r))},g=n(21),E=(n(85),function(e){var t=e.x,n=e.y,r=e.transition,i=Object(a.useRef)(),l=Object(g.b)({config:{duration:r},r:6,cx:t,cy:n});return c.a.createElement(g.a.circle,Object.assign({},l,{ref:i}))}),O=function(e){var t=e.data,n=e.xScale,r=e.yScale,i=e.xValue,l=e.yValue,o=e.transition,s=Object(a.useRef)(null);return Object(a.useEffect)((function(){Object(m.h)(s.current).transition().duration(1e3).attr("d",(function(){return Object(m.d)().x((function(e){return n(i(e))})).y((function(e){return r(l(e))}))(t)}))}),[t,n,r,i,l]),c.a.createElement("g",{className:"marks"},c.a.createElement("path",{ref:s}),t.map((function(e,t){return c.a.createElement(E,{key:t,x:n(i(e)),y:r(l(e)),transition:o})})))},x=n(13),j=n(33),y=function(e){var t=Object(x.a)({},e,{marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75});return Object(x.a)({},t,{boundedHeight:Math.max(t.height-t.marginTop-t.marginBottom,0),boundedWidth:Math.max(t.width-t.marginLeft-t.marginRight,0)})},v=(n(86),function(e){var t=e.title,n=e.data,r=e.selection,i=e.dimensions,o=e.xAxis,s=e.yAxis,u=e.xValues,d=e.yValues,f=e.transitions,g=function(e){var t=Object(a.useRef)(),n=y(e),c=Object(a.useState)(0),r=Object(l.a)(c,2),i=r[0],o=r[1],s=Object(a.useState)(0),u=Object(l.a)(s,2),m=u[0],d=u[1];Object(a.useEffect)((function(){if(n.width&&n.height)return[t,n];var e=t.current,a=new j.a((function(e){if(Array.isArray(e)&&e.length){var t=e[0];i!==t.contentRect.width&&o(t.contentRect.width),m!==t.contentRect.height&&d(t.contentRect.height)}}));return a.observe(e),function(){return a.unobserve(e)}}),[]);var f=y(Object(x.a)({},n,{width:n.width||i,height:n.height||m}));return[t,f]}(i),E=Object(l.a)(g,2),v=E[0],p=E[1],k=p.width,S=p.height,w=p.marginLeft,N=p.marginTop,M=(p.marginBottom,p.marginRight,p.boundedHeight),R=p.boundedWidth,A=Object(a.useMemo)((function(){if(n)return n["$".concat(r)]}),[n,r]),_=Object(a.useMemo)((function(){if(A){var e=Object(m.c)(A.map(u));return Object(m.g)().domain(e).range([0,R]).nice()}}),[A,R]),V=Object(a.useMemo)((function(){if(A){var e=Object(m.c)(A.map(d));return Object(m.f)().domain(e).range([M,0]).nice()}}),[A,M]);return c.a.createElement("div",{className:"chart-container",ref:v},c.a.createElement("svg",{width:k,height:S},c.a.createElement("g",{transform:"translate(".concat(w,",").concat(N,")")},t&&c.a.createElement("text",{className:"title",x:R/2+t.dx,y:t.dy,textAnchor:"middle"},t.label),A?c.a.createElement(c.a.Fragment,null,c.a.createElement(b,Object.assign({xScale:_,boundedHeight:M,boundedWidth:R},o)),c.a.createElement(h,Object.assign({yScale:V,boundedHeight:M,boundedWidth:R},s)),c.a.createElement(O,{data:A,xScale:_,yScale:V,xValue:u,yValue:d,transition:f.lines})):c.a.createElement("text",null,"Loading..."))))}),p=(n(87),function(e){var t=e.locations,n=e.selection,a=e.setSelection;return c.a.createElement(c.a.Fragment,null,c.a.createElement("label",{className:"selection-label mb-0 ml-2"},"Select location"),c.a.createElement("select",{value:n,className:"custom-select",onChange:function(e){return a(e.target.value)}},t.map((function(e,t){return c.a.createElement("option",{key:t,value:e},e)}))))}),k={title:{label:"Testing",dx:0,dy:-20},dimensions:{marginTop:40,marginRight:35,marginBottom:30,marginLeft:75},xAxis:{tickSize:6,tickOffset:15},yAxis:{label:"Cases",labelOffset:50,tickSize:6,tickOffset:10},xValues:function(e){return e.date},yValues:function(e){return e.total_cases},transitions:{lines:1e3}};var S=function(){var e=function(e){var t=e.url,n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){Object(m.b)(t,(function(e){return{date:new Date(e.date),location:e.location,new_cases:+e.new_cases,new_deaths:+e.new_deaths,total_cases:+e.total_cases,total_deaths:+e.total_deaths}})).then((function(e){i(Object(m.e)().key((function(e){return e.location})).sortKeys(m.a).sortValues((function(e,t){return e.date-t.date})).map(e))}))}),[t]),r}({url:"https://covid.ourworldindata.org/data/full_data.csv"}),t=Object(a.useState)("Peru"),n=Object(l.a)(t,2),r=n[0],i=n[1];return c.a.createElement(o.a,null,c.a.createElement("header",null,c.a.createElement("h1",{className:"mt-4 mb-4"},"Covid 2019")),c.a.createElement(p,{locations:e?e.keys():[r],selection:r,setSelection:i}),c.a.createElement(v,Object.assign({data:e,selection:r},k)),c.a.createElement("footer",null,c.a.createElement(s.a,null,c.a.createElement(u.a,{className:"mt-4 text-right"},c.a.createElement("a",{href:"https://github.com/renato145/covid2019",target:"_black"},"Source code")))))};i.a.render(c.a.createElement(S,null),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.7bb37cf3.chunk.js.map