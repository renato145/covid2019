(this.webpackJsonpcovid2019=this.webpackJsonpcovid2019||[]).push([[0],{36:function(e,t,a){},87:function(e,t,a){e.exports=a(98)},93:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(37),i=a.n(r),l=a(4),o=a(101),u=a(99),s=a(100),m=a(102),d=(a(92),a(93),a(3)),f=a(38),h=a.n(f),b=(a(36),function(e){var t=e.xScale,a=e.boundedHeight,r=e.boundedWidth,i=e.label,l=e.labelOffset,o=e.tickSize,u=e.tickOffset,s=Object(n.useMemo)((function(){return t.range()}),[t]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("path",{className:"line",d:["M",s[0],a,"H",s[1]].join(" "),fill:"none"}),t.ticks().map((function(e,n){return c.a.createElement("g",{className:"tick",key:n,transform:"translate(".concat(t(e),",0)")},c.a.createElement("line",{y1:a,y2:a+o}),c.a.createElement("text",{style:{textAnchor:"middle"},dy:".71em",y:a+u},h()(e).format("Do MMM")))})),i&&c.a.createElement("text",{className:"label",x:r/2,y:a+l,textAnchor:"middle"},i))}),g=function(e){var t=e.yScale,a=e.boundedHeight,r=(e.boundedWidth,e.label),i=e.labelOffset,l=e.tickSize,o=e.tickOffset,u=Object(n.useMemo)((function(){return t.range()}),[t]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("path",{className:"line",d:["M",0,u[1],"v",u[0]].join(" "),fill:"none"}),t.ticks().map((function(e,a){return c.a.createElement("g",{key:a,className:"tick",transform:"translate(0,".concat(t(e),")")},c.a.createElement("line",{x2:-l}),c.a.createElement("text",{key:e,style:{textAnchor:"end"},x:-o,dy:".32em"},e))})),r&&c.a.createElement("text",{className:"label",textAnchor:"middle",transform:"translate(".concat(-i,",").concat(a/2,") rotate(-90)")},r))},E=a(39),O=a(29),j=(a(95),function(e){var t=e.x,a=e.y,r=e.r,i=e.transition,l=Object(n.useRef)(),o=Object(O.b)({config:{duration:i,easing:d.c},r:r,cx:t,cy:a});return c.a.createElement(O.a.circle,Object.assign({},o,{ref:l}))}),x=function(e){var t=e.data,a=e.xScale,r=e.yScale,i=e.xValue,l=e.yValue,o=e.transition,u=e.radius,s=Object(n.useRef)(null);return Object(n.useEffect)((function(){Object(d.i)(s.current).transition().duration(o).attrTween("d",(function(){var e=Object(d.i)(this).attr("d"),n=Object(d.e)().x((function(e){return a(i(e))})).y((function(e){return r(l(e))}))(t);return Object(E.interpolatePath)(e,n)}))}),[t,a,r,i,l,o]),c.a.createElement("g",{className:"marks"},c.a.createElement("path",{ref:s}),t.map((function(e,t){return c.a.createElement(j,{key:t,x:a(i(e)),y:r(l(e)),r:u,transition:o})})))},y=a(21),v=a(41),k=function(e){var t=Object(y.a)({},e,{marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75});return Object(y.a)({},t,{boundedHeight:Math.max(t.height-t.marginTop-t.marginBottom,0),boundedWidth:Math.max(t.width-t.marginLeft-t.marginRight,0)})},p=(a(96),function(e){var t=e.locations,a=e.selection,n=e.setSelection;return c.a.createElement(c.a.Fragment,null,c.a.createElement("label",{className:"selection-label mb-0 ml-2"},"Select location"),c.a.createElement("select",{value:a,className:"custom-select",onChange:function(e){return n(e.target.value)}},t.map((function(e,t){return c.a.createElement("option",{key:t,value:e},e)}))))}),S=(a(97),function(e){var t=e.title,a=e.data,r=e.dimensions,i=e.xAxis,o=e.yAxis,f=e.xValues,h=e.yValues,E=e.markRadius,O=e.transitions,j=e.defaultLocation,S=e.onClose,w=function(e){var t=Object(n.useRef)(),a=k(e),c=Object(n.useState)(0),r=Object(l.a)(c,2),i=r[0],o=r[1],u=Object(n.useState)(0),s=Object(l.a)(u,2),m=s[0],d=s[1];Object(n.useEffect)((function(){if(a.width&&a.height)return[t,a];var e=t.current,n=new v.a((function(e){if(Array.isArray(e)&&e.length){var t=e[0];i!==t.contentRect.width&&o(t.contentRect.width),m!==t.contentRect.height&&d(t.contentRect.height)}}));return n.observe(e),function(){return n.unobserve(e)}}),[]);var f=k(Object(y.a)({},a,{width:a.width||i,height:a.height||m}));return[t,f]}(r),N=Object(l.a)(w,2),R=N[0],A=N[1],M=A.width,_=A.height,V=A.marginLeft,C=A.marginTop,L=(A.marginBottom,A.marginRight,A.boundedHeight),H=A.boundedWidth,T=Object(n.useState)(j),B=Object(l.a)(T,2),W=B[0],z=B[1],F=Object(n.useMemo)((function(){if(a)return a["$".concat(W)]}),[a,W]),D=Object(n.useMemo)((function(){if(F){var e=Object(d.d)(F.map(f));return Object(d.h)().domain(e).range([0,H]).nice()}}),[F,f,H]),J=Object(n.useMemo)((function(){if(F){var e=Object(d.d)(F.map(h));return Object(d.g)().domain(e).range([L,0]).nice()}}),[F,h,L]);return c.a.createElement("div",{className:"mt-3 mb-3 h-75"},c.a.createElement(u.a,{className:"justify-content-center"},c.a.createElement(s.a,{md:11},c.a.createElement(p,{locations:a?a.keys():[W],selection:W,setSelection:z})),c.a.createElement(s.a,{md:1},c.a.createElement(m.a,{variant:"outline-danger",size:"sm",onClick:S},c.a.createElement("span",null,"x")))),c.a.createElement("div",{className:"chart-container h-100",ref:R},c.a.createElement("svg",{width:M,height:_},c.a.createElement("g",{transform:"translate(".concat(V,",").concat(C,")")},t&&c.a.createElement("text",{className:"title",x:H/2+t.dx,y:t.dy,textAnchor:"middle"},t.label),F?c.a.createElement(c.a.Fragment,null,c.a.createElement(b,Object.assign({xScale:D,boundedHeight:L,boundedWidth:H},i)),c.a.createElement(g,Object.assign({yScale:J,boundedHeight:L,boundedWidth:H},o)),c.a.createElement(x,{data:F,xScale:D,yScale:J,xValue:f,yValue:h,transition:O.lines,radius:E})):c.a.createElement("text",null,"Loading...")))))}),w={title:{label:"Testing",dx:0,dy:-20},dimensions:{marginTop:40,marginRight:35,marginBottom:30,marginLeft:75},xAxis:{tickSize:6,tickOffset:15},yAxis:{label:"Cases",labelOffset:50,tickSize:6,tickOffset:10},xValues:function(e){return e.date},yValues:function(e){return e.total_cases},markRadius:9,transitions:{lines:1e3},defaultLocation:"Peru"};var N=function(){var e=function(e){var t=e.url,a=Object(n.useState)(null),c=Object(l.a)(a,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){Object(d.b)(t,(function(e){return{date:new Date(e.date),location:e.location,new_cases:+e.new_cases,new_deaths:+e.new_deaths,total_cases:+e.total_cases,total_deaths:+e.total_deaths}})).then((function(e){i(Object(d.f)().key((function(e){return e.location})).sortKeys(d.a).sortValues((function(e,t){return e.date-t.date})).map(e))}))}),[t]),r}({url:"https://covid.ourworldindata.org/data/full_data.csv"}),t=Object(n.useState)([0]),a=Object(l.a)(t,2),r=a[0],i=a[1];return c.a.createElement(o.a,null,c.a.createElement("header",null,c.a.createElement("h1",{className:"mt-4 mb-4"},"Covid 2019")),c.a.createElement(u.a,null,r.map((function(t){return c.a.createElement(s.a,{key:t,md:12},c.a.createElement(S,Object.assign({data:e,onClose:function(){return i((function(e){var a=e.indexOf(t),n=e.slice();return n.splice(a,1),n}))}},w)))}))),c.a.createElement(u.a,{className:"mt-2"},c.a.createElement(s.a,null,c.a.createElement(m.a,{onClick:function(){return i((function(e){return e.concat([e[e.length-1]+1])}))}},"Add Chart"))),c.a.createElement("footer",null,c.a.createElement(u.a,null,c.a.createElement(s.a,{className:"mt-4 text-right"},c.a.createElement("a",{href:"https://github.com/renato145/covid2019",target:"_black"},"Source code")))))};i.a.render(c.a.createElement(N,null),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.2b3b178d.chunk.js.map